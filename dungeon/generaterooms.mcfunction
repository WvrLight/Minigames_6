execute store result score @e[tag=dungeon_room,limit=1,scores={dungeonroll=0},sort=random] dungeonroll run loot insert -173 65 -190 loot datapack:dungeonroll

#Size 5
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=1}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_1",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=2}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_2",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=3}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_3",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=4}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_4",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=5}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_5",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=6}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_6",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=7}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_7",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=8}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_8",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=9}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_9",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=10}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_10",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=11}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_11",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room5,limit=1,scores={dungeonroll=12}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room5_12",posX:-2,posY:1,posZ:-2,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy

#Size 7
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=1}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_1",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=2}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_2",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=3}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_3",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=4}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_4",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=5}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_5",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=6}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_6",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=7}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_7",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=8}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_8",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=9}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_9",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=10}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_10",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=11}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_11",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room7,limit=1,scores={dungeonroll=12}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room7_12",posX:-3,posY:1,posZ:-3,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy

#Size 9
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=1}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_1",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=2}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_2",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=3}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_3",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=4}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_4",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=5}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_5",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=6}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_6",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=7}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_7",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=8}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_8",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=9}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_9",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=10}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_10",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=11}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_11",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room9,limit=1,scores={dungeonroll=12}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room9_12",posX:-4,posY:1,posZ:-4,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy

#Size 11
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=1}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_1",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=2}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_2",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=3}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_3",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=4}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_4",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=5}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_5",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=6}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_6",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=7}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_7",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=8}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_8",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=9}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_9",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=10}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_10",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=11}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_11",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy
execute at @e[tag=dungeon_room11,limit=1,scores={dungeonroll=12}] run setblock ~ ~-2 ~ minecraft:structure_block[mode=load]{name:"dungeon_room11_12",posX:-5,posY:1,posZ:-5,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} destroy

execute at @e[tag=dungeon_room,scores={dungeonroll=1..}] run setblock ~ ~-3 ~ redstone_block destroy
execute at @e[tag=dungeon_room,scores={dungeonroll=1..}] run setblock ~ ~-2 ~ air destroy
execute at @e[tag=dungeon_room,scores={dungeonroll=1..}] run setblock ~ ~-3 ~ air destroy
execute as @e[tag=dungeon_room,scores={dungeonroll=1..}] run kill @s